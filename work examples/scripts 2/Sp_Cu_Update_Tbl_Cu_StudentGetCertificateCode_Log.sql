USE [SAODB]
GO
/****** Object:  StoredProcedure [dbo].[Sp_Cu_Update_Tbl_Cu_StudentGetCertificateCode_Log]    Script Date: 12/11/2024 3:32:17 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Author,,Bahreyni>
-- Create date: <Create Date,,>
-- Description:	<Description,,>
-- =============================================f
ALTER PROCEDURE [dbo].[Sp_Cu_Update_Tbl_Cu_StudentGetCertificateCode_Log]
    @WFID AS BIGINT,
    @StatusID AS BIGINT,
    @PortalLogID AS BIGINT
AS
BEGIN
Declare @PK as bigint
set @PK=(
                            SELECT MAX(PKFormID)
                            FROM Task.TblFormInstance
                            WHERE FormID = 31374
                                  AND WorkflowInstanceId = @WFID
                        )
    DECLARE @SanjeshStatusID INT,
            @EducationStatusID INT,
            @EditStatus INT,
            @SanjeshLetter NVARCHAR(1000),
            @CommisionSpecialCasesLetter NVARCHAR(1000),
            @UniversityExpertAcc BIT,
            @UniversityExpertReject BIT,
            @UniversityExpertReview BIT,
            @CommitmentAcc BIT,
            @CommitmentNotAcc BIT,
            @HaveDebtWelfare BIT,
            @NotHaveDebtWelfare BIT,
            @AmountOwed NVARCHAR(20),
            @Obligation NVARCHAR(50),
            @ObligationOld NVARCHAR(50),
            @Encyclopedia BIT,
            @TemporaryCertificate BIT,
            @UniversityExpertDesc NVARCHAR(2000),
            @UniBossAcc BIT,
            @UniBossReject BIT,
            @UniBossReview BIT,
            @UniBossDesc NVARCHAR(2000),
            @NoneIranianAcc BIT,
            @NoneIranianReject BIT,
            @NoneIranianDesc NVARCHAR(2000),
            @ExpertAcc BIT,
            @ExpertReject BIT,
            @ExpertReview BIT,
            @ExpertDesc NVARCHAR(2000),
            @BossAcc BIT,
            @BossReject BIT,
            @BossReview BIT,
            @BossDesc NVARCHAR(2000),
            @ManagerAcc BIT,
            @ManagerReject BIT,
            @ManagerReview BIT,
            @ManagerDesc NVARCHAR(2000),
            @CentralExpertAcc BIT,
            @CentralExpertReject BIT,
            @CentralExpertReview BIT,
            @CentralExpertDesc NVARCHAR(2000),
            @CommitmentAttach NVARCHAR(200),
            @reqGradeIDGetCC AS INT,
            @reqCourseTypeGetCC AS INT,
            @reqEducationalMethodGetCC AS INT,
            @reqFiledAndOrientationGetCC AS INT,
            @reqTypeAdmissionGetCC AS INT,
            @reqAvrageGetCC AS NVARCHAR(10),
			@reqOrientationIDGetCC AS INT,
			@reqEducationStartDateGetCC AS NVARCHAR(20),
			@reqEducationEndDateGetCC AS NVARCHAR(20),
			@txtCountTermGetCC AS NVARCHAR(100),
			@reqDefenseDateGetCC AS NVARCHAR(20),
			@pdreqProposalDateGetCC AS NVARCHAR(20),
			@reqArticleDateGetCC AS NVARCHAR(20),
			@reqLanguageTestDateGetCC AS NVARCHAR(20),
			@CollegeID as int
			

    SELECT @SanjeshStatusID = Col_5449486527291645160,
           @EducationStatusID = Col_5507396984049788693,
           @EditStatus = Col_4613764937216700665,
           @SanjeshLetter = Col_4922652851406935216,
           @CommisionSpecialCasesLetter = Col_5196907566539715948,
           @UniversityExpertAcc = Col_5536529516475624506,
           @UniversityExpertReject = Col_5571047991645245866,
           @UniversityExpertReview = Col_5727639960045504553,
           @CommitmentAcc = Col_4805832097423416481,
           @CommitmentNotAcc = Col_4715331607478582340,
           @HaveDebtWelfare = Col_4944393246171500983,
           @NotHaveDebtWelfare = Col_5725223156700377652,
           @AmountOwed = CAST(Col_4804514291013145523 AS NVARCHAR),
           @Encyclopedia = Col_5626854398667363915,
           @TemporaryCertificate = Col_5318175156811189456,
           @UniversityExpertDesc = Col_5379105032251880705,
           @UniBossAcc = Col_5492356406845866070,
           @UniBossReject = Col_4963458071436657380,
           @UniBossReview = Col_5336958763110720169,
           @UniBossDesc = Col_5497124443047338558,
           @NoneIranianAcc = Col_4886778355060755390,
           @NoneIranianReject = Col_5679193160687058313,
           @NoneIranianDesc = Col_5582020328250113056,
           @ExpertAcc = Col_5656596279707543217,
           @ExpertReject = Col_5379442404067472894,
           @ExpertReview = Col_5143022796694249979,
           @ExpertDesc = Col_5588983217385697165,
           @BossAcc = Col_5373968486337892994,
           @BossReject = Col_5442628169056233929,
           @BossReview = Col_4684477351663354590,
           @BossDesc = Col_4686165830132805879,
           @ManagerAcc = Col_5117691673159827369,
           @ManagerReject = Col_5505987933296104587,
           @ManagerReview = Col_4872552086682844362,
           @ManagerDesc = Col_5477419446143767585,
           @CentralExpertAcc = Col_4645673139426938826,
           @CentralExpertReject = Col_5091278861787797005,
           @CentralExpertReview = Col_5236402991353919750,
           @CentralExpertDesc = Col_5534837213629477284,
           @Obligation = Col_4706958372770939459,
           @ObligationOld = Col_4650015208901104369,
           @CommitmentAttach = Col_5655179737680821807,
           @reqGradeIDGetCC = Col_5150358730112495596,
           @reqCourseTypeGetCC = Col_4767860620569489975,
           @reqEducationalMethodGetCC = Col_5350479623154119410,
           @reqFiledAndOrientationGetCC = col_4946904661587881343,
           @reqTypeAdmissionGetCC = col_4647082969835820510,
           @reqAvrageGetCC = Col_5297838597101909579,
		   @reqOrientationIDGetCC = Col_5159948449840565208,
		   @reqEducationStartDateGetCC= Col_4669793246492925318,
		   @reqEducationEndDateGetCC = Col_4676656886736325031,
		   @txtCountTermGetCC = Col_4777738853154646153,
		   @reqDefenseDateGetCC = Col_4789838994093533161,
		   @pdreqProposalDateGetCC = Col_5458062832903491474,
		   @reqArticleDateGetCC = Col_5245323820648589879,
		   @reqLanguageTestDateGetCC = COl_4720474877116685390,
		   @CollegeID=Col_5226237600398162588
    FROM dbo.Tbl_frm31374
    WHERE frm31374Id =@PK

    UPDATE Tbl_Cu_StudentGetCertificateCode_LOG
    SET SanjeshStatusID = @SanjeshStatusID,
        EducationStatusID = @EducationStatusID,
        EditStatus = @EditStatus,
        SanjeshLetter = @SanjeshLetter,
        CommisionSpecialCasesLetter = @CommisionSpecialCasesLetter,
        UniversityExpertAcc = @UniversityExpertAcc,
        UniversityExpertReject = @UniversityExpertReject,
        UniversityExpertReview = @UniversityExpertReview,
        CommitmentAcc = @CommitmentAcc,
        CommitmentNotAcc = @CommitmentNotAcc,
        HaveDebtWelfare = @HaveDebtWelfare,
        NotHaveDebtWelfare = @NotHaveDebtWelfare,
        AmountOwed = @AmountOwed,
        Encyclopedia = @Encyclopedia,
        TemporaryCertificate = @TemporaryCertificate,
        UniversityExpertDesc = @UniversityExpertDesc,
        UniBossAcc = @UniBossAcc,
        UniBossReject = @UniBossReject,
        UniBossReview = @UniBossReview,
        UniBossDesc = @UniBossDesc,
        NoneIranianAcc = @NoneIranianAcc,
        NoneIranianReject = @NoneIranianReject,
        NoneIranianDesc = @NoneIranianDesc,
        ExpertAcc = @ExpertAcc,
        ExpertReject = @ExpertReject,
        ExpertReview = @ExpertReview,
        ExpertDesc = @ExpertDesc,
        BossAcc = @BossAcc,
        BossReject = @BossReject,
        BossReview = @BossReview,
        BossDesc = @BossDesc,
        ManagerAcc = @ManagerAcc,
        ManagerReject = @ManagerReject,
        ManagerReview = @ManagerReview,
        ManagerDesc = @ManagerDesc,
        CentralExpertAcc = @CentralExpertAcc,
        CentralExpertReject = @CentralExpertReject,
        CentralExpertReview = @CentralExpertReview,
        CentralExpertDesc = @CentralExpertDesc,
        StatusID = @StatusID,
        CommitmentAttach = @CommitmentAttach,
        Obligation = @Obligation,
        ObligationOld = 
@ObligationOld,
        reqGradeIDGetCC = @reqGradeIDGetCC,
        reqCourseTypeGetCC = @reqCourseTypeGetCC,
        reqEducationalMethodGetCC = @reqEducationalMethodGetCC,
        reqFiledAndOrientationGetCC = @reqFiledAndOrientationGetCC,
        reqTypeAdmissionGetCC = @reqTypeAdmissionGetCC,
        reqAvrageGetCC = @reqAvrageGetCC,
		reqOrientationIDGetCC = @reqOrientationIDGetCC,
	    reqEducationStartDateGetCC = @reqEducationStartDateGetCC,
		reqEducationEndDateGetCC = @reqEducationEndDateGetCC,
		reqCountTermGetCC = @txtCountTermGetCC,
		reqDefenseDateGetCC = @reqDefenseDateGetCC,
		reqProposalDateGetCC = @pdreqProposalDateGetCC,
		reqArticleDateGetCC = @reqArticleDateGetCC,
		reqLanguageTestDateGetCC = @reqLanguageTestDateGetCC,
		CollegeID=@CollegeID
    WHERE  WFID = @WFID
          AND PortalLogID = @PortalLogID;
END;


